/* 代码块内边距调整 - Stack 主题 */
.article-content .highlight {
    padding: 12px !important; /* 减小 padding，从 30px 改为 12px */
}

.article-content .highlight pre {
    padding: 1em !important;
    margin: 0 !important;
}

.article-content .highlight pre code {
    padding: 0 !important;
}

/* 普通 pre 标签的内边距 */
.article-content pre:not(.highlight pre) {
    padding: 1em !important;
}

/* 代码块内的代码行内边距 */
.article-content .highlight .chroma {
    padding: 0 !important;
}

.article-content .highlight .chroma code {
    padding: 0 !important;
}

/* 段落间距调整 - 减小上下 margin */
.article-content > p {
    margin: 0.8em 0 !important; /* 从默认的 1.5em 减小到 0.8em */
}

/* ============================================
   克制的背景设计
   ============================================ */

/* 方案1: 非常微妙的渐变背景（推荐） */
/*
body {
    background: linear-gradient(180deg, 
        #f8f9fa 0%, 
        #f5f5fa 50%, 
        #f8f9fa 100%
    ) !important;
    background-attachment: fixed;
}

[data-scheme="dark"] body {
    background: linear-gradient(180deg, 
        #2a2a2a 0%, 
        #303030 50%, 
        #2a2a2a 100%
    ) !important;
    background-attachment: fixed;
}   
*/

/* 方案2: 微妙的纹理背景（可选，注释掉方案1后启用） */

body {
    background-color: #f7f8fa !important;
    background-image: 
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 2px,
            rgba(0, 0, 0, 0.01) 2px,
            rgba(0, 0, 0, 0.01) 4px
        ) !important;
    background-attachment: fixed;
}

[data-scheme="dark"] body {
    background-color: #2e2e2e !important;
    background-image: 
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 2px,
            rgba(255, 255, 255, 0.01) 2px,
            rgba(255, 255, 255, 0.01) 4px
        ) !important;
    background-attachment: fixed;
}


/* 方案3: 温暖的米白色背景（可选，注释掉方案1后启用） */
/*
body {
    background-color: #faf9f7 !important;
}

[data-scheme="dark"] body {
    background-color: #2d2d2d !important;
}
*/

/* ============================================
   克制的色彩点缀 - 小面积、低饱和度
   ============================================ */

:root {
    /* 温和的蓝色作为强调色 */
    --accent-blue: #4a90e2;
    --accent-blue-light: #6ba3e8;
    --accent-blue-dark: #3a7bc8;
    
    /* 温和的绿色作为辅助色 */
    --accent-green: #52c41a;
    --accent-green-light: #73d13d;
    
    /* 温和的橙色作为点缀色 */
    --accent-orange: #fa8c16;
    --accent-orange-light: #ffa940;
}

/* 链接颜色 - 使用温和的蓝色 */
.article-content a {
    color: var(--accent-blue);
    transition: color 0.2s ease;
}

.article-content a:hover {
    color: var(--accent-blue-dark);
}

/* 文章卡片左侧边框 - 小面积色彩点缀 */
.article-list article {
    border-left: 3px solid transparent;
    transition: border-left-color 0.3s ease;
}

.article-list article:hover {
    border-left-color: var(--accent-blue);
}

/* 文章标题 hover 效果 - 轻微色彩 */
.article-title a:hover {
    color: var(--accent-blue) !important;
    transition: color 0.2s ease;
}

/* 标签颜色 - 使用更温和的配色 */
.widget.tagCloud .tagCloud-tags a {
    transition: background-color 0.2s ease, color 0.2s ease;
}

.widget.tagCloud .tagCloud-tags a:hover {
    background-color: var(--accent-blue) !important;
    color: white !important;
}

/* 导航菜单激活状态 - 小面积色彩 */
.menu .menu-item.active a,
.menu .menu-item a:hover {
    color: var(--accent-blue);
}

/* 引用块左侧边框 - 温和的绿色 */
.article-content blockquote {
    border-left-color: var(--accent-green) !important;
    background-color: rgba(82, 196, 26, 0.05) !important;
}

/* 代码块边框 - 轻微色彩 */
.article-content .highlight {
    border-left: 3px solid var(--accent-blue);
}

/* 按钮和交互元素 - 温和的蓝色 */
button,
.button {
    background-color: var(--accent-blue);
    color: white;
    transition: background-color 0.2s ease;
}

button:hover,
.button:hover {
    background-color: var(--accent-blue-dark);
}

/* 侧边栏小装饰 */
.widget-title::before {
    content: '';
    display: inline-block;
    width: 3px;
    height: 1em;
    background-color: var(--accent-blue);
    margin-right: 8px;
    vertical-align: middle;
}

/* 深色模式下的色彩调整 */
[data-scheme="dark"] {
    --accent-blue: #5ba0f0;
    --accent-blue-light: #7bb3f5;
    --accent-blue-dark: #4a90e2;
    
    --accent-green: #73d13d;
    --accent-green-light: #95de64;
    
    --accent-orange: #ffa940;
    --accent-orange-light: #ffc069;
}

[data-scheme="dark"] .article-content blockquote {
    background-color: rgba(82, 196, 26, 0.1) !important;
}

/* ============================================
   侧边栏收起/展开功能
   ============================================ */

/* 侧边栏切换按钮样式 */
.sidebar-toggle {
    position: fixed;
    z-index: 1000;
    background: var(--card-background);
    border: 1px solid var(--card-separator-color);
    border-radius: 4px;
    padding: 8px;
    cursor: pointer;
    box-shadow: var(--shadow-l1);
    transition: all 0.3s ease;
    display: none; /* 默认隐藏，只在桌面端显示 */
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
}

/* 只在桌面端显示切换按钮 */
@media (min-width: 768px) {
    .sidebar-toggle {
        display: flex;
    }
}

.sidebar-toggle:hover {
    background: var(--card-separator-color);
}

.sidebar-toggle svg {
    width: 20px;
    height: 20px;
    stroke-width: 2;
    transition: transform 0.3s ease;
    color: var(--card-text-color-main);
}

/* 左侧边栏切换按钮 - 调整位置避免遮挡导航栏 */
.sidebar-toggle-left {
    left: 10px;
    top: 10px; /* 放在页面顶部 */
    transform: none;
}

/* 当左侧边栏收起时，按钮移到更靠左的位置 */
body.left-sidebar-collapsed .sidebar-toggle-left {
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
}

/* 当左侧边栏收起时，按钮图标旋转180度 */
body.left-sidebar-collapsed .sidebar-toggle-left svg {
    transform: rotate(180deg);
}

/* 右侧边栏切换按钮 */
.sidebar-toggle-right {
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
}

/* 当右侧边栏收起时，按钮图标旋转180度 */
body.right-sidebar-collapsed .sidebar-toggle-right svg {
    transform: rotate(180deg);
}

/* 左侧边栏收起状态 */
body.left-sidebar-collapsed .left-sidebar {
    width: 0 !important;
    min-width: 0 !important;
    max-width: 0 !important;
    overflow: hidden;
    padding: 0;
    margin: 0;
    opacity: 0;
    transition: all 0.3s ease;
}

body.left-sidebar-collapsed .left-sidebar > * {
    display: none;
}

/* 右侧边栏收起状态 */
body.right-sidebar-collapsed .right-sidebar {
    width: 0 !important;
    min-width: 0 !important;
    max-width: 0 !important;
    overflow: hidden;
    padding: 0;
    margin: 0;
    opacity: 0;
    transition: all 0.3s ease;
}

body.right-sidebar-collapsed .right-sidebar > * {
    display: none;
}

/* 响应式：在小屏幕上隐藏切换按钮 */
@media (max-width: 768px) {
    .sidebar-toggle {
        display: none;
    }
}

/* 确保主内容区域在侧边栏收起时能够扩展 */
body.left-sidebar-collapsed .main-container.extended,
body.left-sidebar-collapsed .main-container.compact {
    --left-sidebar-max-width: 0;
}

body.right-sidebar-collapsed .main-container.extended {
    --right-sidebar-max-width: 0;
}
